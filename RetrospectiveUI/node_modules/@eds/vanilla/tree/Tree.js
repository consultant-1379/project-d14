export class Tree {
  constructor(element) {
    this.dom = {
      accordion: element,
      titles: element.querySelectorAll('.title'),
    };
  }

  toggleAccordion(title) {
    title.classList.toggle('opened');
  }

  init() {
    this.addEventListeners();
  }

  destroy() {
    this.removeEventListeners();
  }

  addEventListeners() {
    const self = this;
    Array.from(this.dom.titles).forEach((title) => {
      title.addEventListener('click', () => self.toggleAccordion(title), false);
    });
  }

  removeEventListeners() {
    const self = this;
    Array.from(this.dom.titles).forEach((title) => {
      title.removeEventListener('click', () => self.toggleAccordion(title), false);
    });
  }
}
