export class WizardContent {
  constructor(element){
    this.dom = {
      content: element,
    };
  }

  init(){
    this.addEventListeners();
  }

  destroy(){
    this.removeEventListeners();
  }

  addEventListeners(){
    window.addEventListener('wizardState', (e) => this.showCorrectContent(e), false);
  }

  removeEventListeners(){
    window.removeEventListener('wizardState', (e) => this.showCorrectContent(e), false);
  }

  showCorrectContent(event){
    const currentStep = event.detail.state.currentStep;
    const contents = this.dom.content.querySelectorAll('.content');

    Array.from(contents).forEach( (content,i) => {
      if(i === currentStep){
        this.showContent(content);
      }else {
        this.hideContent(content);
      }
    });
  }

  showContent(content){
    content.classList.remove('hidden');
  }

  hideContent(content){
    content.classList.add('hidden');
  }
}
