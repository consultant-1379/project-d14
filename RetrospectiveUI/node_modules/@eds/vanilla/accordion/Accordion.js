export class Accordion {
  static toggleAccordion(li) {
    li.classList.toggle('opened');
  }

  constructor(element) {
    this.dom = {
      accordion: element,
      lis: element.querySelectorAll('li'),
    };
  }

  init() {
    this.handleEventListeners();
  }

  handleEventListeners(type) {
    Array.from(this.dom.lis)
      .filter((li) => li.querySelector('.title'))
      .forEach((li) => {
        if (type === 'remove') {
          li.querySelector('.title')
            .removeEventListener('click', () => Accordion.toggleAccordion(li), false);
        } else {
          li.querySelector('.title')
            .addEventListener('click', () => Accordion.toggleAccordion(li), false);
        }
      });
  }

  destroy() {
    this.handleEventListeners('remove');
    // and other tasks to be run once at destruction
  }
}
